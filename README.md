# Сервис назначения ревьюеров для Pull Request'ов

Микросервис для автоматического назначения ревьюеров на Pull Request'ы внутри команд.

## Функциональность

- ✅ Создание команд с участниками
- ✅ Управление активностью пользователей
- ✅ Автоматическое назначение ревьюеров при создании PR
- ✅ Переназначение ревьюеров
- ✅ Мерж PR с идемпотентной операцией
- ✅ Получение списка PR для ревьюверов
- ✅ Валидация бизнес-правил (нельзя менять ревьюверов после мержа и т.д.)

## Технологический стек

- **Backend**: Python + FastAPI
- **База данных**: SQLite
- **Контейнеризация**: Docker + Docker Compose

## Быстрый запуск

### Способ 1: Через Makefile 
```bash
# Клонирование репозитория
git clone git@github.com:Snyizer/Pull_Assigner.git
cd avito

# Запуск через Makefile
make up
```
### Способ 2: Через Docker Compose напрямую 
```bash
docker-compose build
docker-compose up -d
```

### Команды Makefile 

```bash
make build    # Сборка образов
make up       # Запуск сервисов
make down     # Остановка сервисов
make logs     # Просмотр логов
make test     # Запуск тестов
make clean    # Остановка и очистка volumes

# Короткие алиасы
make start    # Сборка и запуск
make stop     # Остановка
make restart  # Перезапуск

# Дополнительные команды
make status   # Статус контейнеров
make shell    # Открыть shell в контейнере
make docs     # Открыть документацию в браузере
make dev      # Запуск в режиме разработки
make info     # Информация о проекте
```

Команды
- POST /team/add - Создать команду с участниками

- GET /team/get - Получить информацию о команде

Пользователи
- POST /users/setIsActive - Установить флаг активности

- GET /users/getReview - Получить PR для ревьювера

Pull Requests
- POST /pullRequest/create - Создать PR с ревьюверами

- POST /pullRequest/merge - Пометить PR как мерженный

- POST /pullRequest/reassign - Переназначить ревьювера

Статистика
- GET /stats - Получить статистику сервиса


Проблема: Выбор базы данных
Вопрос: Почему выбрана SQLite вместо PostgreSQL?
Решение: Для тестового задания SQLite обеспечивает достаточную производительность и простоту настройки.


Дополнительные возможности
Проект готов к расширению следующими функциями:

- ✅ Эндпоинт статистики

- ⬜ Нагрузочное тестирование

- ⬜ Массовая деактивация пользователей

- ⬜ Интеграционные тесты

- ⬜ Конфигурация линтера